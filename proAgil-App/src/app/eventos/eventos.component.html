<div class="container" id="table-form">
  <h5>Nossos eventos</h5>
  
  <div class="form-inline">
    <div class="form-group mb-2">
      <input type="text" class="form-control mr-2 form-control-sm "[(ngModel)]="filtroLista" >
    </div>
    
  </div>
  <p>Filtro: {{filtroLista}} </p>
  <table class="table table-striped text-center">
    <thead class="thead">
      <th>
        <button class="btn btn-outline-primary" (click)="alterImage()" tooltip="{{ mostrarImagem ? 'Não exibir imagem do evento': 'Exibir imagem do evento'}}">
          <i class="{{mostrarImagem ? 'fas fa-eye-slash' :'fas fa-eye'}}"></i>
        </button>
      </th>
      <th>#</th>
      <th>Tema</th>
      <th>Local</th>
      <th>Data do Evento</th>
      <th>Qtde Pessoas</th>
      <th>Lote</th>
      <th>Opções</th>
    </thead>
    
    <tbody *ngIf="eventos && eventos.length">
      <tr *ngFor=" let evento of eventosFiltrados">
        <td>
          <img *ngIf="mostrarImagem" src="http://localhost:5000/img/{{evento.imageUrl}}" 
          [style.width.px]="imagemLargura"
          [style.margin.px]="imagemMargem">
          
        </td>
        <td>{{evento.id}}</td>
        <td>{{evento.tema}}</td>
        <td>{{evento.local}}</td>
        <td>{{evento.dataEvento |DateTimeFormatPipe}}</td>
        <td>{{evento.qtdePessoas}}</td>
        <td>
          <div *ngIf="!evento.lotes.length">Lote não informado </div>
          <div *ngIf="evento.lotes.length">{{evento.lotes[0].nome| uppercase}}</div>
        </td>
        <td>
          <div class="btn-group mx-auto">
            <button class="btn btn-sm btn-success" tooltip="Editar" (click)='openModal(template)'>
              <i class=" fa fa-edit"></i>              
            </button>
            <button class="btn btn-sm btn-danger" tooltip="Excluir">
              <i class=" fa fa-eraser"></i>            
            </button>
          </div>
        </td>
      </tbody>
      <tfoot *ngIf="!eventos.length">
        <td colspan="7" class="text-center">
          <p >
            Nenhum evento encontrado <i class="far fa-frown"></i>
          </p>
        </td>
      </tfoot>  
    </table>
    
    <ng-template #template>
      <div class="modal-header">
        <h4 class="modal-title pull-left">Vai vir uma variavel aqui certeza</h4>
        <button type="button" class="close pull-right" aria-label="close" (click)="modalRef.hide()" tooltip="Fechar">
          <span aria-label="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        Esse é o modal caraaaaaa!
      </div>
    </ng-template>
    
    
  </div>